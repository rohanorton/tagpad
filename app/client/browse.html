<!DOCTYPE html>
<html><head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <!-- Standard Meta -->
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">

  <!-- Site Properties -->
  <title>browse - tagpad</title>
  <link rel=stylesheet type="text/css" href="semantic.min.css">

  <script src="react_build/react.js"></script>
  <script src="react_build/react-dom.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/babel-core/5.8.24/browser.min.js"></script>
  <!-- using babel to compile JSX in the browser -->
  <script type="text/babel">
  
  var items = [
    { id: 1, type: 'note', 'title': 'thoughts on life', 
      'description': 'What is the meaning of it all?', tags: [] },
    { id: 2, type: 'bookmark', 'title': 'google', 
      'description': 'this is a link to the popular search engine', tags: [] },
    { id: 3, type: 'note', 'title': 'Ideas about space',
      'description': 'How big is space really?', tags: [] },
    { id: 4, type: 'location', 'title': "Enid's",
        'description': 'At night a bar, during the day a delicious brunch spot.', tags: ['Fun'] }
  ];
  var currentPage = "browse";

  function Tag(props) {
    return <a className="ui label">{props.name}</a>
  }

  function ItemTags(props) {
    return (
      <div className="right ui labels">
        {props.tags.map(function (tagName, index) {
          return <Tag key={index} name={tagName} />;
        })}
      </div>
    );
  }

  function Item(props) {
    var typeToClass = {
      'note' : "file text outline icon",
      'bookmark': "bookmark outline icon",
      'location': "map marker icon"
    };
    return (
      <div className="item">
        <i className={typeToClass[props.item.type]}></i>
        <div className="content">
          <a className="header">{props.item.title}</a>
          <div className="description">{props.item.description}</div>
          <ItemTags tags={props.item.tags} />
        </div>
      </div>
    );
  }

  function ItemList(props) {
    return (
      <div className="ui list">
        {items.map(function (item) {
          return <Item item={item} key={item.id} />; 
        })}
      </div>
    );
  }

  function SearchBar(props) {
    return (
      <div className="ui fluid input">
        <input placeholder="Search.." type="text"></input>
      </div>
    );
  }
  
  function SearchableBrowseList(props) {
    return (
      <div className="ui main text container">
        <SearchBar />           
        <ItemList items={props.items} />           
      </div>
    );
  }
  
  function MenuBar(props) {
    return (
      <div className="ui fixed inverted menu">
        <div className="ui container">
          <a href="#" className="header item">
            <img className="logo" src="img/logo.png"></img>
            tagpad
          </a>
          <a href="#" className={"item " + (props.page === 'browse' ? 'active' : '')}>browse</a>
          <a href="#" className={"item " + (props.page === 'add' ? 'active' : '')}>add</a>
        </div>
      </div>
    );
  }

  function BrowsePage(props) {
    return (
      <div>
        <MenuBar page={currentPage}/>
        <SearchableBrowseList items={items} />
      </div>
    );
  }

  ReactDOM.render(
    <BrowsePage />,
    document.getElementById('react-container')
  );
  </script>

  <style type="text/css">
  body {
    background-color: #FFFFFF;
    overflow:hidden;
  }
  .ui.menu .item img.logo {
    margin-right: 1.5em;
  }
  .main.container {
    margin-top: 7em;
  }
  .wireframe {
    margin-top: 2em;
  }
  .ui.footer.segment {
    margin: 5em 0em 0em;
    padding: 5em 0em;
  }
  .list.item {
    margin-top:1em;
  }
  div.labels {
    margin-top:0.3em;
  }
  </style>

</head>
<body>
  <div id="react-container">Loading react...</div>
</body>
</html>
